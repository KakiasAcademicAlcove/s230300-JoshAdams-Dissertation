{
    "builders": [
      {
        "type": "docker",
        "image": "ubuntu:latest",
        "commit": true
      }
    ],
    "provisioners": [
      {
        "type": "shell",
        "inline": [
            "export DEBIAN_FRONTEND=noninteractive",
            "ln -fs /usr/share/zoneinfo/Etc/UTC /etc/localtime",
            "apt-get update",
            "apt-get install -y tzdata",
            "dpkg-reconfigure --frontend noninteractive tzdata",
            "apt-get install -y curl vim git passwd zsh mysql-server freeradius freeradius-mysql freeradius-utils",
            "mkdir /apps",
            "useradd -m -d /home/freeradiususer -s /bin/bash freeradiususer",
            "echo 'freeradiususer:password' | chpasswd",  
            "usermod -s /bin/zsh freeradiususer",     
            "chown -R freeradiususer:freeradiususer /home/freeradiususer",
            "mkdir -p /apps/opt/freeradius"
        ]
      }
    ],
    "post-processors": [
        {
          "type": "docker-tag",
          "repository": "freeradius",
          "tag": "latest"
        }
    ]
}